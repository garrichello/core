<?xml version="1.0" encoding="windows-1251" standalone="no"?>
<!DOCTYPE task SYSTEM "ctdl.dtd">
<task uid="task_20190701_155314" owner="oig" description="" root_path="/opt/gcoret/" data_module_path="">
    <service processingClass="Average" calculationParameter="" trend="false" isBaseLayer="false"><!-- GUI service params -->
      <timePeriod type="Given time period">
        <dateStart year="1979" month="January" day="01"/>
        <dateEnd year="1980" month="December" day="31"/>
      </timePeriod>
    </service>
    <metadb host="localhost" name="metadatadb" user="dbuser" password=""/>
    <computing system="abak" type="REMOTE" ip="abak.scert.ru" drcNode="IMCES"/>
<!-- Data segment. Order is not important. -->

    <data uid="Data_1" type="dataset"> <!-- type: dataset, array -->
    	<description title="ERA-Interim Reanalysis" name="Air temperature" units="K"/>
	<dataset name="ERAInt" resolution="0.75x0.75" time_step="6h" scenario="-"/>  <!-- ERAINT -->
    	<variable name="t2m" tempk2c="no"/> <!-- TMP, air, 2T, TAV, precip-->
	<region units="degrees">
	    <!-- <point lon=[/LU_LON/] lat=[/LU_LAT/]/> -->
            <point lon="0" lat="79.3026"/>
            <point lon="180" lat="79.3026"/>
            <point lon="180" lat="36.5979"/>
            <point lon="0" lat="36.5979"/>
    	</region>
	<levels values="2m"/>
	<time uid="Input_1" template="YYYYMMDDHH">
	    <!-- <segment name='' beginning=[/START_DATE/] ending=[/END_DATE/]/> -->
	<segment name="Seg1"  beginning="1979010100" ending="1979123123"/>
	<segment name="Seg2"  beginning="1980010100" ending="1980123123"/>
	<segment name="Seg3"  beginning="1981010100" ending="1981123123"/>

</time>
    </data>
    
    <destination uid="Image_1" type="image"> <!-- type: 'image', 'raw' -->
	<file name="output/Timean_output.TIFF" type="geotiff"/> <!-- if graphics.kind=='shaded', then file.type='eps' OR 'geotiff'; graphics.kind=='vector': file.type='shape'; graphics.kind=='multiline': file.type='eps'; for kind=='tile' : 'geotiff24' -->
	<projection name="cylindrical"> <!-- 'azimuthal equidistant, 'cylindrical',... -->
	    <p0lon units="degrees">0</p0lon>
	    <p0lat units="degrees">0</p0lat>
	    <rot units="degrees">0</rot>
	    <limits units="degrees">
		<limit role="left">-180</limit>
		<limit role="right">180</limit>
		<limit role="top">90</limit>
		<limit role="bottom">-90</limit>
	    </limits>
	</projection>
	<graphics title="average: Air temperature: ERA-Interim Reanalysis: 01.01.1979 - 31.12.1980" kind="shaded"> <!-- kind: 'shaded', 'vector' (replaces 'contour', 'station', and 'vector'); 'tile', 'multiline', 'regress2d' -->
	    <width units="pixels">3072</width>
	    <height units="pixels">2304</height>
	    <legend title="average: Air temperature: K" kind="file" type="continuous" position="none"> <!-- kind: 'embedded', 'file', 'none'; position: 'right', 'left', 'top', 'bottom' (only for kind=='embedded') -->
		<units>K</units> <!-- added after legend's title -->
		<nlabels>11</nlabels> <!-- !!! number of labels in legend -->
		<ncolors>10</ncolors> <!-- number of discrete colors in legend -->
		<limited>no</limited> <!-- fixed legend limits: yes/no -->
		<minimum>-15.0</minimum> <!-- ignored if limited == no -->
		<maximum>15.0</maximum> <!-- ignored if limited == no -->
		<file name="output/Timean_output.sld" type="xml"/> <!-- file for legend (if legend kind=='file'), type: 'tiff', 'png', 'jpeg', 'gif', 'bmp', 'ppm, 'srf'  -->
	    </legend>
	    <colortable>RAINBOW</colortable>  <!-- only for graphics kind=='shaded', e.g.: RAINBOW --> 
	    <colorscale>linear</colorscale> <!-- only for graphics kind=='shaded', linear/log -->
	    <blackbg>no</blackbg> <!-- black background -->
    	    <smoothing>yes</smoothing> <!-- only for graphics kind=='shaded': yes/no -->
	    <steps>30</steps> <!-- only for graphics kind == 'contour' or for file type == 'shape' -->
	</graphics>
    </destination>    

    <destination uid="File_1" type="raw"><!-- uid to be generated, then used in processing -->
      <file name="output/Timean_output.nc" type="netcdf"/> <!--type: 'netcdf', 'geotiff'; 'bin', xml' --><!-- PHP pathname -->
    </destination>
    
    <data uid="Result_1" type="array">
    	<description title="Average" name="Temperature" units="K" tempk2c="yes" source="Data_1"/>
	<time uid="Output_1" template="YYYYMMDDHH">
	    <!-- <segment name='' beginning=[/START_DATE/] ending=[/END_DATE/]/> -->
	    
	<segment name="Seg1" beginning="1979010100" ending="1980123123"/>

</time>
    </data>

    <data uid="ModuleParameters_1" type="parameter">
    	<param uid="timeMean" type="string">data</param> <!-- data, day, segment -->
    </data>

<!-- End of data segment -->

<!-- Code segment. Order is IMPORTANT! -->

    <processing uid="Process_1" class="cvcCalcTiMean" module_path="">
    	<input uid="P1Input1" data="Data_1"/>
    	<input uid="P1Parameter1" data="ModuleParameters_1"/>
    	<output uid="P1Output1" data="Result_1"/>
    </processing>
    
    <processing uid="Visualization_1" class="cvcOutput">
	<input uid="V1Data1" data="Result_1"/>
	<output uid="V1Destination1" data="Image_1"/>
    </processing>

    <processing uid="Output_1" class="cvcOutput">
      <input uid="O1Data1" data="Result_1"/>
      <output uid="O1Destination1" data="File_1"/>
    </processing>
            
<!-- End of code segment -->

</task>
